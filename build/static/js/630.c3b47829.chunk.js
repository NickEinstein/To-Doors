"use strict";(self.webpackChunksoftwrk_web=self.webpackChunksoftwrk_web||[]).push([[630],{2630:function(e,i,n){n.r(i);var l=n(4165),r=n(5861),o=n(885),t=n(2791),a=n(8152),d=n(5705),s=n(1724),u=n(5588),c=(n(6113),n(676)),v=(n(8871),n(5311),n(7328),n(656),n(2699),n(4565)),f=n(6871),p=n(3979),m=(n(3849),n(4789)),x=n(7425),h=n(6856),y=n(4781),g=n(2426),Z=n.n(g),j=n(9795),N=n(184);i.default=function(e){var i,n,g,b,w,k,S,_,C=(0,f.s0)(),T=(0,t.useState)("rider"),A=(0,o.Z)(T,2),I=A[0],R=(A[1],(0,t.useState)(1)),G=(0,o.Z)(R,2),Q=G[0],V=G[1],U=(0,t.useState)([]),q=(0,o.Z)(U,2),B=q[0],L=q[1],P=a.Z.useGetAllQuery({userType:"company"}),z=a.Z.useGetCompanyStatisticsQuery({}),D=(0,t.useState)([]),E=(0,o.Z)(D,2),F=E[0],J=E[1],M=null===z||void 0===z?void 0:z.data,O=null===P||void 0===P||null===(i=P.data)||void 0===i?void 0:i.data,X=a.Z.useGetAllQuery({userType:"rider"}),H=(null===X||void 0===X||null===(n=X.data)||void 0===n||n.data,null===a.Z||void 0===a.Z?void 0:a.Z.useGetAllBikesQuery({pageNo:Q})),K=+(null===X||void 0===X||null===(g=X.data)||void 0===g||null===(b=g.meta)||void 0===b?void 0:b.totalNoOfPages),W=(null===H||void 0===H||null===(w=H.data)||void 0===w||w.data,a.Z.useGetAllVerifiedQuery({userType:I,verified:!1,pageNo:Q})),Y=a.Z.useGetAllVerifiedQuery({userType:I,verified:!0,pageNo:Q}),$=null===Y||void 0===Y||null===(k=Y.data)||void 0===k?void 0:k.data,ee=null===W||void 0===W||null===(S=W.data)||void 0===S?void 0:S.data,ie=function(e){V(e),console.log(e)};(0,t.useEffect)((function(){ne()}),[Q]);for(var ne=function(){var e=(0,r.Z)((0,l.Z)().mark((function e(){var i,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.U2)({endpoint:"api/company/getalluser?userType=rider&pageNo=".concat(Q),auth:!0});case 2:n=e.sent,L(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data),console.log(n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,r.Z)((0,l.Z)().mark((function e(i){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.IV)({endpoint:"api/super-admin/deleteRider?userId=".concat(i),auth:!0});case 2:e.sent,ne();case 4:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),re=[],oe=1;oe<=K;oe++)re.push(oe);var te=function(e){if(O&&B&&e){var i=O.find((function(i){return i._id==e}));return console.log(null===i||void 0===i?void 0:i.fname),i}},ae=null===B||void 0===B?void 0:B.map((function(e){var i;return{image:null===e||void 0===e?void 0:e.profileUrl,name:"".concat(null===e||void 0===e?void 0:e.fname),company:null!==e&&void 0!==e&&e.companyId?null===(i=te(null===e||void 0===e?void 0:e.companyId))||void 0===i?void 0:i.fname:"Self Registered",id:null===e||void 0===e?void 0:e.email,ratings:Z()(null===e||void 0===e?void 0:e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,userId:null===e||void 0===e?void 0:e._id,verified:null===e||void 0===e?void 0:e.verified,info:e}}));console.log(ae),(0,c.Z)();var de=(0,u.Ds)().enqueueSnackbar,se=a.Z.useLoginMutation(),ue=(0,o.Z)(se,2),ce=ue[0],ve=(ue[1],(0,d.TA)({initialValues:{username:"",password:""},validationSchema:s.Ry({username:s.Z_().trim().required(),password:s.Z_().trim().required()}),onSubmit:function(){var e=(0,r.Z)((0,l.Z)().mark((function e(i){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),C("/complete-signUp"),e.prev=2,e.next=5,ce({data:i}).unwrap();case 5:e.sent,de("Logged in successful",{variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),de(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.message,"Failed to login",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(i){return e.apply(this,arguments)}}()}),function(e,i){console.log(e),J(i?null===e||void 0===e?void 0:e.map((function(e){var i;return{image:null===e||void 0===e?void 0:e.profileUrl,name:"".concat(null===e||void 0===e?void 0:e.fname),company:null!==e&&void 0!==e&&e.companyId?null===(i=te(null===e||void 0===e?void 0:e.companyId))||void 0===i?void 0:i.fname:"Self Registered",id:null===e||void 0===e?void 0:e.email,ratings:Z()(null===e||void 0===e?void 0:e.created_at).format("ll"),tripsCompleted:"-",phoneNo:null===e||void 0===e?void 0:e.phoneNo,status:null===e||void 0===e?void 0:e.currTripState,userId:null===e||void 0===e?void 0:e._id,verified:null===e||void 0===e?void 0:e.verified,info:e}})):[])});return(0,N.jsxs)("div",{children:[(0,N.jsx)(y.Z,{}),(0,N.jsxs)("div",{className:"flex items-end mr-3 mt-12 w-3/6",children:[(0,N.jsx)("div",{className:"mr-4 hover:cursor-pointer",onClick:function(){ve(B,!1)},children:(0,N.jsx)(p.Z,{className:"mr-3",rider:!1,big:!0,green:!0,name:"Total Riders",count:null===M||void 0===M?void 0:M.total_riders})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"relative w-full ",children:(0,N.jsxs)("div",{className:"flex-between px-2 w-full text-xs absolute ",style:{top:"-20px"},children:[(0,N.jsxs)("div",{className:"flex",children:[(0,N.jsx)("p",{className:"font-bold mr-1 flextext-xs self-end",children:"Today"}),(0,N.jsx)("div",{children:(0,N.jsx)(x.ZXJ,{className:"",style:{fontSize:"16px",color:"#494949"}})})]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"text-xs mr-1 opacity-50",children:(0,N.jsx)(h.la_,{})}),(0,N.jsx)("span",{className:"text-xs opacity-50",children:"Refresh"})]})]})}),(0,N.jsxs)("div",{className:"flex",children:[(0,N.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){ve($,!0)},children:(0,N.jsx)(p.Z,{short:!0,name:"Verified",count:null===M||void 0===M?void 0:M.verified_rider})}),(0,N.jsx)("div",{className:"hover:cursor-pointer",onClick:function(){ve(ee,!0)},children:(0,N.jsx)(p.Z,{short:!0,name:"Un-Verified",count:null===M||void 0===M?void 0:M.unverified_rider})})]})]})]}),(0,N.jsx)(v.Z,{variant:"h5",className:"font-bold mt-8 text-primary-main",children:"All Riders"}),null===(_=F.length&&F||ae)||void 0===_?void 0:_.map((function(e,i){return(0,N.jsx)(m.Z,{deleteBikes:le,tableArray:e,info:e.info,getBikes:ne},i)})),(0,N.jsx)("nav",{className:"flex justify-center mt-5",children:(0,N.jsxs)("ul",{className:"flex",children:[Q>1&&(0,N.jsx)("li",{children:(0,N.jsx)("a",{href:"#",onClick:function(){return ie(Q-1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-l hover:bg-gray-600",children:"Prev"})}),re.map((function(e){return(0,N.jsx)("li",{children:(0,N.jsx)("a",{href:"#",onClick:function(){return ie(e)},className:Q===e?"py-2 px-4 bg-primary-main text-white font-bold":"py-2 px-4 hover:bg-gray-400/10",children:e})},e)})),Q<re.length&&(0,N.jsx)("li",{children:(0,N.jsx)("a",{href:"#",onClick:function(){return ie(Q+1)},className:"py-2 px-4 bg-gray-400 text-white font-bold rounded-r hover:bg-gray-600",children:"Next"})})]})})]})}}}]);
//# sourceMappingURL=630.c3b47829.chunk.js.map